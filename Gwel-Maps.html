<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Gwel Workshop Collection with Save</title>

  <link href="https://fonts.googleapis.com/css2?family=Lobster&display=swap" rel="stylesheet" />

  <style>
    body {
      margin: 0;
      font-family: Arial, sans-serif;
      background-color: #f4f4f4;
    }
    header {
      background-color: #007bff;
      color: white;
      padding: 1rem;
      text-align: center;
      font-size: 2.5rem;
      font-family: 'Lobster', cursive;
      letter-spacing: 2px;
      text-shadow: 1px 1px 4px rgba(0,0,0,0.3);
    }
    .grid {
      display: grid;
      grid-template-columns: repeat(2, 1fr); /* Always 2 per row */
      gap: 20px;
      padding: 20px;
    }
    @media (max-width: 700px) {
      .grid {
        grid-template-columns: 1fr; /* Stack on small screens */
      }
    }
    .item {
      background-color: #007bff;
      border-radius: 8px;
      color: white;
      overflow: hidden;
      text-decoration: none;
      transition: transform 0.2s;
      position: relative;
      user-select: none;
    }
    .item:hover {
      transform: scale(1.02);
    }
    .item img {
      width: 100%;
      height: 200px;
      object-fit: cover;
      display: block;
    }
    .item-title {
      padding: 1rem;
      font-weight: bold;
      font-size: 1.1rem;
      text-align: center;
    }
    .save-btn {
      position: absolute;
      top: 10px;
      right: 10px;
      font-size: 24px;
      color: white;
      cursor: pointer;
      user-select: none;
      transition: color 0.3s ease;
      text-shadow: 0 0 5px rgba(0,0,0,0.7);
    }
    .save-btn.saved {
      color: #ffd700; /* gold */
      text-shadow: 0 0 8px #ffd700;
    }
  </style>
</head>
<body>
  <header>Gwel</header>

  <div class="grid" id="workshopGrid"></div>

  <script>
    const items = [
      { id: "2923003321", title: "Gwel Mall 8.5.2" },
      { id: "2950621898", title: "after Gwel Mall [2.5 updates]" },
      { id: "3337082033", title: "[V0.1] Gweltopia" },
      { id: "3019183726", title: "[Unfinished/Abandonned ?] Gwel Bank" },
      { id: "3139915326", title: "Gwel's detailed Building Extended Edition" },
      { id: "3098855739", title: "Gwel's Oval Building" },
      { id: "3074619387", title: "Gwel's detailed Building V1" },
      { id: "3115943535", title: "Gwel's Insomnia Building" },
      { id: "3320400698", title: "Gwel's Market But With Every Updates" },
      { id: "3483153782", title: "Gwel's Car School [Beta]" },
      { id: "3094278427", title: "Gwel's High Building" },
      { id: "3009343827", title: "[spawnable] Prefabricate Box" },
      { id: "3246446134", title: "Gwel New Mall" },
      { id: "3048425831", title: "Gwel's Home" },
    ];

    // Load favorites from localStorage or empty array
    let favorites = JSON.parse(localStorage.getItem('favorites')) || [];

    const grid = document.getElementById('workshopGrid');

    // Function to save favorites to localStorage
    function saveFavorites() {
      localStorage.setItem('favorites', JSON.stringify(favorites));
    }

    // Function to render items sorted by favorites on top
    function renderItems() {
      grid.innerHTML = '';
      // Sort items so favorites appear first
      const sortedItems = [...items].sort((a, b) => {
        const aFav = favorites.includes(a.id) ? 1 : 0;
        const bFav = favorites.includes(b.id) ? 1 : 0;
        return bFav - aFav;
      });

      sortedItems.forEach(item => {
        const link = document.createElement('a');
        link.href = `https://steamcommunity.com/sharedfiles/filedetails/?id=${item.id}`;
        link.target = '_blank';
        link.className = 'item';

        const img = document.createElement('img');
        img.src = `https://steamcdn-a.akamaihd.net/steamcommunity/public/images/items/4000/${item.id}.jpg`;
        img.onerror = () => {
          img.src = 'https://store.steampowered.com/public/shared/images/responsive/header_logo.png';
        };

        const title = document.createElement('div');
        title.className = 'item-title';
        title.textContent = item.title;

        // Save button (bookmark icon)
        const saveBtn = document.createElement('div');
        saveBtn.className = 'save-btn';
        saveBtn.title = 'Save/Favorite';
        saveBtn.innerHTML = favorites.includes(item.id) ? 'ðŸ’¾' : 'ðŸ“';  // floppy disk or folder icon
        if (favorites.includes(item.id)) saveBtn.classList.add('saved');

        saveBtn.addEventListener('click', (e) => {
          e.preventDefault();
          e.stopPropagation();
          if (favorites.includes(item.id)) {
            // Remove from favorites
            favorites = favorites.filter(fav => fav !== item.id);
          } else {
            // Add to favorites
            favorites.push(item.id);
          }
          saveFavorites();
          renderItems();
        });

        link.appendChild(img);
        link.appendChild(title);
        link.appendChild(saveBtn);
        grid.appendChild(link);
      });
    }

    renderItems();
  </script>
</body>
</html>
